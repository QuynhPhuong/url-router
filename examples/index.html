<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
</head>

<body>
<p>Open console to see results.</p>

<script type="module">
import Router from '../src/index.mjs'

const router = new Router([
  ['GET', '/path/from', '/resolve/to'],
  ['POST', '/resolve/to/function', () => { console.log('hello') }],
  ['PUT', '/resolve/to/object', { template: '<h1>hello</h1>', layout: 'main' }],

  // method defaults to 'GET'
  ['/user/:id/profile', '/user/profile'],
  ['/people/:username/:page', '/people/$2'],
  [/^\/article\/(\d+)$/, '/article'],

  // es2018 named capture groups
  [/^\/post\/(?<id>\d+)$/, '/post'],
  [/\/member\/(?<id>\d+)\/(?<page>[^/]+)$/, '/member/$<page>'],

  // used as url rewriter
  ['https://www.example.com/', 'https://www.google.com/']
])

router.get('*', { template: '<h1>404</h1>' })

console.log(router.find('GET', '/path/from'))
console.log(router.find('POST', '/resolve/to/function'))
console.log(router.find('PUT', '/resolve/to/object'))
console.log(router.find('/user/123/profile'))
console.log(router.find('/people/johnsmith/articles'))
console.log(router.find('/people/%E9%95%BF%E8%80%85/news'))
console.log(router.find('/article/123'))
console.log(router.find('/post/123'))
console.log(router.find('/member/234/profile'))
console.log(router.find('/404'))
console.log(router.find('https://www.example.com/'))
</script>
</body>

</html>
